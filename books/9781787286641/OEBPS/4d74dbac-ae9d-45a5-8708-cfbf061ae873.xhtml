<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis" xmlns:svg="http://www.w3.org/2000/svg">
<head>
  <meta charset="UTF-8" />
  <title>Comment Functionality</title>
  <link type="text/css" rel="stylesheet" media="all" href="style.css" />
  <link type="text/css" rel="stylesheet" media="all" href="core.css" />
</head>
<body>
  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Comment Functionality</h1>
                </header>
            
            <article>
                
<p>In this section, we'll add the custom comment functionality.</p>
<p>Let's open up <kbd>single.php</kbd> and go right under <kbd>endif</kbd>. <span>We'll say</span> <kbd>&lt;?php comments_template(); ?&gt;</kbd><span>:</span></p>
<pre>   &lt;?php endif; ?&gt;<br/><br/>   <strong>&lt;?php comments_template(); ?&gt;</strong><br/>&lt;/div&gt;</pre>
<p>Let's save this and reload. We have our comment section now:</p>
<div class="CDPAlignCenter CDPAlign"><img height="1024" width="1280" class="aligncenter size-full wp-image-1109 image-border" src="images/8a59a226-97dd-475b-96e6-b7270629fac6.png" /></div>
<p>Let's say <kbd>Great Post</kbd>, click on <span class="packt_screen">Post Comment</span>, and it works!</p>
<p>Now this will work as far as functionality goes, but it doesn't look too good, so I want to show you how we can customize this.</p>
<p>We'll create a new page, or a new file, and we'll call this <kbd>comments.php</kbd>. If we go back now and reload you'll see there's nothing here, it's reading from this file; if we say <kbd>Test</kbd> and reload, we get <span class="packt_screen">Test</span>:</p>
<div class="CDPAlignCenter CDPAlign"><img height="1024" width="1280" class="aligncenter size-full wp-image-1110 image-border" src="images/4df7b01a-d2ea-4e9e-ad97-18577c9a3158.png" /></div>
<p>So it's up to us to customize how we want this to work.</p>
<div class="packt_infobox">There's actually some helpful code in the documentation at <a href="https://codex.wordpress.org/Function_Reference/wp_list_comments">https://codex.wordpress.org/Function_Reference/wp_list_comments</a> for our <kbd>wp_list_comments</kbd>, and this is what we want.</div>
<p>In the <kbd>comments.php</kbd> file enter the following code:</p>
<pre>&lt;?php $args = array(
        'walker'            =&gt; null,
        'max_depth'         =&gt; '',
        'style'             =&gt; 'ul',
        'callback'          =&gt; null,
        'end-callback'      =&gt; null,
        'type'              =&gt; 'all',
        'reply_text'        =&gt; 'Reply',
        'page'              =&gt; '',
        'per_page'          =&gt; '',
        'avatar_size'       =&gt; 32,
        'reverse_top_level' =&gt; null,
        'reverse_children'  =&gt; '',
        'format'            =&gt; 'html5', // or 'xhtml' if no 'HTML5' theme <br/>                                        // support
        'short_ping'        =&gt; false,   // @since 3.6
        'echo'              =&gt; true     // boolean, default is true
); ?&gt;<br/><br/>&lt;?php wp_list_comments($args, $comments); ?&gt;</pre>
<p>Let's first of all put an <kbd>&lt;h2&gt;</kbd> tag and say <kbd>Comments</kbd>.</p>
<p>We can create an arguments array. I'll grab that. Obviously, we don't need most of this stuff, but it's not going to hurt us to keep it in there; you'll see a lot of this is set to null, just in case you wanted to change anything later on. I'll change <kbd>avatar_size</kbd> to <kbd>80</kbd>, make it a little bigger. The rest we can leave. These arguments will now get plugged into the <kbd>wp_list_comments()</kbd> function. Next, we'll pass in <kbd>args</kbd> and <kbd>comments</kbd>. So, that takes care of the comments. Now we need the form so that can also take some arguments.</p>
<p><span>From the bottom I'll grab this code, paste that in; it just needs a</span> <kbd>php</kbd> <span>tag. We'll set another argument array,</span> <kbd>comments_args</kbd><span>; actually let's call this</span> <kbd>form_args</kbd><span>, and then change <kbd>comments_args</kbd> to</span> <kbd>form_args</kbd><span>. Let's set the label of the submit button, what you want in the</span> <kbd>title_reply</kbd> <span>field, comment after,</span> <kbd>comment_notes_after</kbd><span>, and then the</span> <kbd>comment_field</kbd> <span>itself; in this case, they give you a paragraph with the class of</span> <kbd>comment-form-comment</kbd> <span>as the label. I don't think we really want to change anything here. For the text area, we'll add in a couple of attributes; we'll set</span> <kbd>cols</kbd> <span>to</span> <kbd>45</kbd> <span>and</span> <kbd>rows</kbd> <span>to</span> <kbd>8</kbd><span>:</span></p>
<pre>&lt;?php<br/>$form_args = array(
        // change the title of send button 
        'label_submit'=&gt;'Send',
        // change the title of the reply section
        'title_reply'=&gt;'Write a Reply or Comment',
        // remove "Text or HTML to be displayed after the set of comment <br/>        // fields"
        'comment_notes_after' =&gt; '',
        // redefine your own textarea (the comment body)
        'comment_field' =&gt; '&lt;p class="comment-form-comment"&gt;<br/>        &lt;label for="comment"&gt;' . _x( 'Comment', 'noun' ) . '&lt;/label&gt;<br/>        &lt;br /&gt;&lt;textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"&gt;<br/>        &lt;/textarea&gt;&lt;/p&gt;',
); ?&gt;

comment_form($form_args);</pre>
<p><span>We'll save it and reload. T</span>his is good:</p>
<div class="CDPAlignCenter CDPAlign"><img height="1024" width="1280" class="aligncenter size-full wp-image-1111 image-border" src="images/348d1011-cf94-4cc3-b74f-6d688d79ceda.png" /></div>
<p>The rest of it we'll do in CSS.</p>
<p>We'll now go to <kbd>style.css</kbd>. Let's go down to the bottom and paste this code in; this is going to be <kbd>comment-body</kbd>, we'll give it a <kbd>border</kbd>, <kbd>margin</kbd>, and <kbd>padding</kbd>. We also want the meta which is this area here, the avatar, and then the date and all that stuff; let's paste that in:</p>
<pre>.comment-body{<br/>  border:#ccc 1px solid;<br/>  margin-bottom:10px;<br/>  padding:20px 10px;<br/>}</pre>
<p>We'll add a dark background, some padding, and for the image, I'll float it to the left, add the time and some margin to that. Next, we'll format reply-link to make it look like a button, and then the form itself:</p>
<pre>.comment-meta{<br/>  background:#333;<br/>  color:#fff;<br/>  padding:10px;<br/>  overflow:auto;<br/>}<br/><br/>.comment-meta img{<br/>  float:left;<br/>  margin-right:10px;<br/>}<br/><br/>.comment-meta time{<br/>  margin-left:12px;<br/>}</pre>
<p>For the form input and the text area, we'll just set width to <kbd>100%</kbd>, and we'll add some padding, border, and stuff like that:</p>
<pre>.comment-reply-link{<br/>   background:#009acd;<br/>   color:#fff;<br/>   display:inline-block;<br/>   padding:10px 15px;<br/>}<br/><br/>.comment-form input,.comment-form textarea{<br/>   width:100%;<br/>   padding:3px;<br/>   border:#ccc 1px solid;<br/>   margin-bottom:20px;<br/>}<br/><br/>.comment-form input{<br/>   height:30px;<br/>}</pre>
<p>Let's save this and reload, we can see that it looks a lot better:</p>
<div class="CDPAlignCenter CDPAlign"><img height="1024" width="1280" class="aligncenter size-full wp-image-1112 image-border" src="images/aff829c3-5901-4210-92cf-ae3c23783375.png" /></div>
<p>Let's type something here. If we're logged out, then we also have the <span class="packt_screen">Name</span>, <span class="packt_screen">Email</span>, and <span class="packt_screen">Website</span> fields:</p>
<div class="CDPAlignCenter CDPAlign"><img height="1024" width="1280" class="aligncenter size-full wp-image-1113 image-border" src="images/adb2c84b-2db7-478e-b16f-76b16db74026.png" /></div>
<p>I think that looks pretty good. It looks a lot better than the default. Let's say <kbd>This is a great article</kbd> and click on <span class="packt_screen">Send</span>:</p>
<div class="CDPAlignCenter CDPAlign"><img height="1024" width="1280" class="aligncenter size-full wp-image-1114 image-border" src="images/e434aa5a-2ca2-4c66-b97f-fa81fca9e992.png" /></div>
<p>Since we weren't logged in, it just says it's awaiting moderation, and that's good; it's working great!</p>


            </article>

            
        </section>
    </div>
</body>
</html>