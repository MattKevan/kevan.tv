<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis" xmlns:svg="http://www.w3.org/2000/svg">
<head>
  <meta charset="UTF-8" />
  <title>Creating custom archive pages</title>
  <link type="text/css" rel="stylesheet" media="all" href="style.css" />
  <link type="text/css" rel="stylesheet" media="all" href="core.css" />
</head>
<body>
  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating custom archive pages</h1>
                </header>
            
            <article>
                
<p>Let's create custom archive pages. Now if we click on one of the categories, it'll take us to a category archive.</p>
<p>If we click on admin, the username, it will take us to the author archive. There are others as well. We can also have archives by dates, we can have them by tags, and so on. So let's go into our <kbd>themes</kbd> folder. We will create a new file and save that as <kbd>archive.php</kbd> and open that up.</p>
<p>Now if we go back and click on a category, you can see it's blank because it's looking at the <kbd>archive.php</kbd> page. We will copy what's in the <kbd>index.php</kbd> page and paste that in <kbd>archive.php</kbd>.</p>
<p>I want these pages to be much more simple. We don't need the meta, and we don't need the image; pretty much just the title and the date is all that we want. So let's go to where we have the <kbd>&lt;article&gt;</kbd> tag and get rid of the whole part.</p>
<p>We will replace this with a <kbd>&lt;div&gt;</kbd> tag and give it a <kbd>archive-post</kbd> class. <span>We'll enter</span> <kbd>&lt;h4&gt;</kbd>; <span>then we'll insert a link, which will go to</span> <kbd>the_permalink()</kbd><span>, and then we have <kbd>the_title()</kbd>. Next, we'll place a paragraph that says</span> <kbd>Posted On: &lt;?php the_time</kbd><span>, and we'll pass in the same formatting options as earlier</span>:</p>
<pre>&lt;?php while(have_posts()) : the_post(); ?&gt;<br/>   &lt;div class="archive-post"&gt;<br/>   &lt;h4&gt;<br/>   &lt;a href="&lt;?php the_permalink(); ?&gt;"&gt;<br/>      &lt;?php the_title(); ?&gt;<br/>   &lt;/a&gt;<br/>   &lt;/h4&gt;<br/>   &lt;p&gt;Posted On: &lt;?php the_time('F j, Y g:i a'); ?&gt;&lt;/p&gt;<br/>   &lt;/div&gt;<br/>&lt;?php endwhile; ?&gt;</pre>
<p>Now let's take a look at this:</p>
<div class="CDPAlignCenter CDPAlign"><img height="961" width="1280" class="aligncenter size-full wp-image-1056 image-border" src="images/348a9df1-d5de-4fcc-9e9e-e74171500f50.png" /></div>
<p>Let's update the style sheet real quick. <span>We will add</span> <kbd>.archive-post</kbd> <span>with a border set on the bottom of light gray color,</span> <kbd>1px solid</kbd><span>, and</span> <kbd>padding-bottom:10px</kbd><span>. We'll also add</span> <kbd>10px</kbd> <span>on</span> <kbd>margin-bottom</kbd><span>. Then for</span> <kbd>h4</kbd> <span>and the paragraph, we will remove the margin and padding</span>:</p>
<pre>.archive-post{<br/>    border-bottom: #ccc 1px solid;<br/>    padding-bottom:10px;<br/>    margin-bottom:10px;<br/>}<br/><br/>.archive-post h4, .archive-post p{<br/>    margin:0;<br/>    padding:0;<br/>}</pre>
<p>Now we will need to have a different heading depending on what type of archive it is. So let's go back to <kbd>archive.php</kbd> and add the following code right under the <kbd>main block</kbd> div:</p>
<pre>&lt;div class="main block"&gt;<br/>   &lt;h1 class="page-header"&gt;<br/>      &lt;?php<br/>        if(is_category()){<br/>          single_cat_title();<br/>        } else if(is_author()){<br/>          the_post();<br/>          echo 'Archives By Authors: ' .get_the_author();<br/>          rewind_posts();<br/>        } else if(is_tag()){<br/>          single_tag_title();<br/>        } else if(is_day()){<br/>          echo 'Archives By Day: ' .get_the_date();<br/>        } else if(is_month()){<br/>          echo 'Archives By Month: ' .get_the_date('F Y');<br/>        } else if(is_year()){<br/>          echo 'Archives By Year: ' .get_the_date('Y');<br/>        } else {<br/>          echo 'Archives';<br/>        }</pre>
<p>Here, we'll use some WordPress functions that are extremely helpful. We use <kbd>is_category()</kbd>, that'll happen if it's a category archive, and then we just use this <kbd>single_cat_title()</kbd> function, which can give us the category name. We then see if it is an author, and then, <kbd>echo 'Archives By Author: '</kbd>, the author's name, and <kbd>the_post()</kbd>. We also use <kbd>rewind_posts()</kbd>, and if it's a tag, we can actually give <kbd>tag_title()</kbd>; if it's by day, we can say <kbd>'Archives By Day: '</kbd> and then just say <kbd>get_the_date()</kbd>. We can also do the same for <kbd>Month</kbd>, and then for <kbd>Year</kbd>. If it's none of these, then it's just going to say <kbd>Archives</kbd>. Let's save this, and go back and reload:</p>
<div class="CDPAlignCenter CDPAlign"><img height="967" width="1280" class="aligncenter size-full wp-image-1057 image-border" src="images/23305db3-f53a-49ca-a693-748dfa2537de.png" /></div>
<p>Now you can see that we get <kbd>Archives By Author: admin</kbd>. If we go back to a post and click on the category, it gives us the category name. So that's how that works. We want the same kind of view for the <span class="packt_screen">Search</span>.</p>
<p>In order to search for something we'll create a new file and call it <kbd>search.php</kbd>.</p>
<p>We will copy what we have in <kbd>archive.php</kbd> and paste it in the <kbd>search.php</kbd> file. We will remove the ones which are not required and then we'll just say <kbd>Search Results</kbd>:</p>
<pre>&lt;?php get_header(); ?&gt;<br/> <br/>&lt;div class="container content"&gt;<br/>   &lt;div class="main block"&gt;<br/>      &lt;h1 class="page-header"&gt;<br/>         Search Results<br/>      &lt;/h1&gt;<br/> <br/>      &lt;?php if(have_posts()) : ?&gt;<br/>      &lt;?php while(have_posts()) : the_post(); ?&gt;<br/>         &lt;div class="archive-post"&gt;<br/>         &lt;h4&gt;<br/>         &lt;a href="&lt;?php the_permalink(); ?&gt;"&gt;<br/>            &lt;?php the_title(); ?&gt;<br/>         &lt;/a&gt;<br/>         &lt;/h4&gt;<br/>         &lt;p&gt;Posted On: &lt;?php the_time('F j, Y g:i a'); ?&gt;&lt;/p&gt;<br/>         &lt;/div&gt;<br/>      &lt;?php endwhile; ?&gt;<br/>      &lt;?php else: ?&gt;<br/>         &lt;?php echo wpautop('Sorry, no posts were found'); ?&gt;<br/>   &lt;?php endif; ?&gt;<br/>&lt;/div&gt;</pre>
<p>Also, just to make sure <span class="packt_screen">Search</span> is definitely working, let's put in the word <kbd>Hello</kbd> in <kbd>Blog Post Two</kbd>:</p>
<div class="CDPAlignCenter CDPAlign"><img height="838" width="1280" class="aligncenter size-full wp-image-1058 image-border" src="images/2e2a6170-e7a6-48e4-a0f4-031d73afcec0.png" /></div>
<p>Now if we go back to the frontend and search for <kbd>Hello</kbd>, <kbd>Blog Post Two</kbd> comes up:</p>
<div class="CDPAlignCenter CDPAlign"><img height="974" width="1280" class="aligncenter size-full wp-image-1059 image-border" src="images/a57e3798-2589-4698-85d9-48b3930b5544.png" /></div>
<p>So this works!</p>
<p>Now we want a link to the <span class="packt_screen">Home</span> page in the menu, so let's do that. To do this, let's go to <span class="packt_screen">Menus</span>, and to <span class="packt_screen">Custom Links</span>. For the URL, we will add <kbd>localhost/wpthemes</kbd>, and then for <span class="packt_screen">Link Text</span> we'll just say <kbd>Home</kbd>. Click on the <span class="packt_screen">Add to Menu</span> button, put that up here at the top, and save it.</p>
<div class="CDPAlignCenter CDPAlign"><img src="images/706add1f-45c0-4b84-8b56-e598e2b186f1.png" /></div>
<p>If we go back and reload, you can see a <span class="packt_screen">Home</span> link.</p>
<p>Next, we will look at content types, and how to place things, such as galleries, a side content, and links.</p>


            </article>

            
        </section>
    </div>
</body>
</html>