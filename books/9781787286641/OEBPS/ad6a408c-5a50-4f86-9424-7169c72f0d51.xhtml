<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis" xmlns:svg="http://www.w3.org/2000/svg">
<head>
  <meta charset="UTF-8" />
  <title>Creating a single post and adding an image</title>
  <link type="text/css" rel="stylesheet" media="all" href="style.css" />
  <link type="text/css" rel="stylesheet" media="all" href="core.css" />
</head>
<body>
  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating a single post and adding an image</h1>
                </header>
            
            <article>
                
<p>We will now see how to create a single post. If we click on <span class="packt_screen">Read More</span> now, it takes us to the single post, but it's not what we want, we want to change this. Also, we want the ability to add a featured image to a post, also called a thumbnail. Let's start with the thumbnail. We'll first go to <kbd>functions.php</kbd> and we need to enable that support for our theme. <span>For this, we'll go to the</span> <kbd>adv_theme_support()</kbd> <span>function and add a</span> <kbd>Featured Image Support</kbd> <span>comment. Next, we'll enter the</span> <kbd>add_theme_support()</kbd> <span>function and pass in</span> <kbd>post-thumbnails</kbd><span>, as shown here:</span></p>
<pre>// Theme Support<br/>function adv_theme_support(){<br/>    // Featured Image Support<br/><span>    add_theme_support('post-thumbnails');</span></pre>
<p>Let's save this, and if we go to, let's say <kbd>Blog Post One</kbd>, you'll see that we have the <span class="packt_screen">Featured Image</span> block:</p>
<p>We will click on <span class="packt_screen">Set featured image</span> and upload some files:</p>
<div class="CDPAlignCenter CDPAlign"><img height="959" width="1280" class="aligncenter size-full wp-image-1047 image-border" src="images/a65729b1-b1c6-4acd-9da3-8115860acae7.png" /></div>
<p><span>You should have a folder called</span> <kbd>_images</kbd> <span>with some images placed in it.</span></p>
<p>Let's choose the <kbd>phones.jpg</kbd> image and click on <span class="packt_screen">Set featured image</span>, as shown in the following screenshot:</p>
<div class="CDPAlignCenter CDPAlign"><img height="1024" width="1280" class="aligncenter size-full wp-image-1048 image-border" src="images/a96140d9-346d-4552-9523-37da0691a7f6.png" /></div>
<p><span>Next, we will set this to <span class="packt_screen">Technology</span> for the category and click on <span class="packt_screen">Update</span>:</span></p>
<div class="CDPAlignCenter CDPAlign"><img height="249" width="235" class="aligncenter size-full wp-image-1049 image-border" src="images/6cb6722c-1b9e-4e41-8de0-77cdc2e150b0.png" /></div>
<p>Now, let's go to <kbd>Blog Post Two</kbd> and click on <span class="packt_screen">Set featured image</span>, and then on Upload, and then, grab the <kbd>surface.jpg</kbd> image. Now let's go ahead and click on <span class="packt_screen">Update</span>.</p>
<p>If we go to the frontend and reload, you won't see the images; we actually have to add that to our theme.</p>
<p>So let's go to <kbd>index.php</kbd> and find out where you want to put the image. In this case, we will put it right above <kbd>the_excerpt()</kbd>, as shown in the following code block:</p>
<pre>&lt;?php if(has_post_thumbnail()) : ?&gt;<br/>   &lt;div class="post-thumbnail"&gt;<br/>      &lt;?php the_post_thumbnail(); ?&gt;<br/>   &lt;/div&gt;<br/>&lt;?php endif; ?&gt;<br/>&lt;?php the_excerpt(); ?&gt;</pre>
<p>First, we will check for the image, and for that, we will add <kbd>&lt;?php if(has_post_thumbnail()) : ?&gt;</kbd>. Then we will create a <kbd>&lt;div&gt;</kbd> tag with a <kbd>post-thumbnail</kbd> class. We will then add <kbd>&lt;?php the_post_thumbnail(); ?&gt;</kbd>.<br/>
Let's save this, go back, and reload.</p>
<p>Now you can see that we have the images. They're a little too big, so let's go to our CSS and edit the code. <span>We'll go to where we have our article styles, and we'll add</span> <kbd>article .post-thumbnail</kbd><span>. Then, we will set the image</span> <kbd>width</kbd> <span>to</span> <kbd>100%</kbd><span>. Now it takes up 100% of the div, but the proportion is all out of whack. So we'll add</span> <kbd>height</kbd> <span>and set it to</span> <kbd>auto</kbd>, as shown in the following code block:</p>
<pre>article .post-thumbnail img{<br/>    width:100%;<br/>    height:auto;<br/>}</pre>
<p>Reload, and now you can see that they fit.</p>
<div class="CDPAlignCenter CDPAlign"><img height="883" width="1280" class="aligncenter size-full wp-image-1051 image-border" src="images/a02b1cc3-04cf-4a84-b9c2-c536cacec67b.png" /></div>
<p>This looks good now!</p>
<p>Now we want to move on to the single post page. To do this, we'll set a new file and save it as <kbd>single.php</kbd>. We will just type in the word <kbd>TEST</kbd>. Now, if we go back to our single post and reload, you'll see that we get <span class="packt_screen">TEST</span>, because this page has now overwritten the <kbd>index.php</kbd> page on the single post. You can also see that the main page still shows, it's just when we go to view a single post:</p>
<div class="CDPAlignCenter CDPAlign"><img height="257" width="439" class="aligncenter size-full wp-image-1052 image-border" src="images/772fb21a-7b27-42ae-b47b-d2c915c33ea2.png" /></div>
<p>Let's copy everything that we have in the <kbd>index.php</kbd> file. We'll now split this up into a header and a footer file since we have not done that yet, and that's what you typically want to do with a WordPress theme, right? So we will create a new file and save it as <kbd>header.php</kbd>, and then, we'll create another one called <kbd>footer.php</kbd>.</p>
<p>In our <kbd>index.php</kbd> file, we'll figure out what we want to bring over to the header. So, we want the actual header and the navigation.</p>
<p>Let's start with <kbd>&lt;nav&gt;</kbd> and go up. We'll cut everything out and paste it in the header file.</p>
<p>Now, down at the bottom of <kbd>index.php</kbd>, we'll start selecting from the ending <kbd>&lt;/html&gt;</kbd> tag up to where the <kbd>&lt;footer&gt;</kbd> starts. <span>We'll cut that, and put it in our footer file, as shown here</span>:</p>
<pre>  &lt;footer class="main-footer"&gt;<br/>     &lt;div class="container"&gt;<br/>        &lt;div class="f_left"&gt;<br/>           &lt;p&gt;&amp;amp;copy; 2017 - Advanced WP Theme&lt;/p&gt;<br/>        &lt;/div&gt;<br/>        &lt;div class="f_right"&gt;<br/>           &lt;ul&gt;<br/>              &lt;li&gt;&lt;a href="index.html"&gt;Home&lt;/a&gt;&lt;/li&gt;<br/>              &lt;li&gt;&lt;a href="about.html"&gt;About&lt;/a&gt;&lt;/li&gt;<br/>              &lt;li&gt;&lt;a href="#"&gt;Services&lt;/a&gt;&lt;/li&gt;<br/>           &lt;/ul&gt;<br/>        &lt;/div&gt;<br/>     &lt;/div&gt;<br/>  &lt;/footer&gt;<br/>  &lt;?php wp_footer(); ?&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</pre>
<p>Now if I save our <kbd>index.php</kbd> file as is, and we try to view it, you can see that it's all messed up:</p>
<div class="CDPAlignCenter CDPAlign"><img height="993" width="1280" class="aligncenter size-full wp-image-1053 image-border" src="images/389caf61-a961-4e72-86d3-a555c1503003.png" /></div>
<p>So at the top, we'll say <kbd>get_header()</kbd>:</p>
<pre>&lt;?php get_header(); ?&gt;</pre>
<p>At the bottom, of course, we'll add <kbd>get_footer()</kbd>:</p>
<pre>&lt;?php get_footer(); ?&gt;</pre>
<p>If we go back now, everything's back to normal:</p>
<div class="CDPAlignCenter CDPAlign"><img height="1024" width="1280" class="aligncenter size-full wp-image-1054 image-border" src="images/dd60dd34-4563-48b2-a326-d1238d01bd7d.png" /></div>
<p>Now, we'll take everything from <kbd>index.php</kbd>, including <kbd>get_header()</kbd> and <kbd>get_footer()</kbd>, and we'll paste that into <kbd>single.php</kbd>.</p>
<p>We'll save this, and then if we go to the single post, we get what we had before:</p>
<div class="CDPAlignCenter CDPAlign"><img height="1024" width="1280" class="aligncenter size-full wp-image-1055 image-border" src="images/7d52bee5-7fe6-4f75-8e26-7e416f06f53d.png" /></div>
<p>Let's change a couple of things. One thing we want to change is that we want all the content to be shown. So we'll set <kbd>the_excerpt()</kbd> back to <kbd>the_content()</kbd>:</p>
<pre>&lt;?php endif; ?&gt;<br/><strong>&lt;?php the_content(); ?&gt;</strong></pre>
<p>If we reload now, we get all the content.</p>
<p>Also, we don't want the <span class="packt_screen">Read More</span> link, so we'll get rid of that:</p>
<pre>&lt;a class="button" href="&lt;?php the_permalink(); ?&gt;"&gt;Read More&lt;/a&gt;</pre>
<p>Now, reload, and you will see that the link is gone. So now we just have our single post.</p>
<p>Now the archive pages should work. If we click on <span class="packt_screen">Business</span>, it'll show us all the Business posts; if we click on <span class="packt_screen">admin</span>, it'll show us all the posts created by admin; similarly, <span class="packt_screen">Search</span> should also work. If we search for <kbd>Lorem</kbd>, the two articles should show up.</p>
<p>Now all the things, such as search, the category, and user archive pages, can be actually customized; we can make them different from the main post style. This is what we'll do next.</p>


            </article>

            
        </section>
    </div>
</body>
</html>