<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis" xmlns:svg="http://www.w3.org/2000/svg">
<head>
  <meta charset="UTF-8" />
  <title>The sidebar widget setup</title>
  <link type="text/css" rel="stylesheet" media="all" href="style.css" />
  <link type="text/css" rel="stylesheet" media="all" href="core.css" />
</head>
<body>
  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">The sidebar widget setup</h1>
                </header>
            
            <article>
                
<p class="mce-root">In the last section, we made a custom widget plugin for our showcase area. We'll now implement the sidebar.</p>
<p class="mce-root">We've already done half the work. If we look at <kbd>functions.php</kbd>, we already have registered our sidebar area.</p>
<p class="mce-root CDPAlignLeft CDPAlign">So what we need to do now is go to <kbd>index.php</kbd> and go down to where we have our sidebar. Before I get rid of this, let's make sure that we create our widgets.</p>
<p>So we already have the Categories one; we don't have to worry too much about that. But let's create the sidebar heading:</p>
<div class="CDPAlignCenter CDPAlign"><img height="697" width="934" class="aligncenter size-full wp-image-1520 image-border" src="images/2a3e9aa1-1307-4a24-a5c7-786023d0ef31.png" /></div>
<p class="mce-root CDPAlignLeft CDPAlign">OK, so if we go to our backend, we have <span class="packt_screen">Categories</span>, we can bring that over to the sidebar at the right, enter the title as <span class="packt_screen">Categories</span> and save that. Then we also want the custom text present at the bottom-left of the window; we'll put that right under <span class="packt_screen">Categories</span>. Paste in our heading, <kbd>Sidebar heading</kbd>, and then our text and the button from the code. We'll save and now we can go ahead and replace this stuff. We remove both the <kbd>callout</kbd> divs.</p>
<p class="mce-root CDPAlignCenter CDPAlign CDPAlignLeft">We'll then check to see if the sidebar is active, so we'll put <kbd>if(is_active_sidebar)</kbd> and the position is also called sidebar:</p>
<pre>&lt;div class="large-4 medium-4 cell"&gt;<br/>   &lt;?php if(is_active_sidebar('sidebar')) : ?&gt;<br/>      &lt;?php dynamic_sidebar('sidebar'); ?&gt;<br/>   &lt;?php endif; ?&gt;<br/>&lt;/div&gt;</pre>
<p class="mce-root CDPAlignCenter CDPAlign CDPAlignLeft">In the preceding code, we'll type in <kbd>php dynamic_sidebar</kbd> and save that. Let's go to the frontend and reload. So there are our widgets, and these are coming from the backend:</p>
<div class="mce-root CDPAlignCenter CDPAlign"><img height="217" width="442" class="aligncenter size-full wp-image-1526 image-border" src="images/a82c5163-9df9-4a63-83a4-62b6438cba09.png" /></div>
<p class="mce-root CDPAlignCenter CDPAlign CDPAlignLeft">Now for the categories let's create some. By default, it's only going to show categories that have posts in them:</p>
<p class="mce-root CDPAlignCenter CDPAlign CDPAlignLeft"><img height="621" width="971" class="aligncenter size-full wp-image-1525 image-border" src="images/19c51077-8706-4531-a6a8-f5762b2260f4.png" /></p>
<p class="mce-root CDPAlignCenter CDPAlign CDPAlignLeft">Now these aren't the ones we want at all. So we'll get rid of these and then add <span class="packt_screen">Shirts</span>, <span class="packt_screen">Hats</span>, and <span class="packt_screen">Shoes</span>:</p>
<div class="mce-root CDPAlignCenter CDPAlign"><img height="660" width="970" class="aligncenter size-full wp-image-1527 image-border" src="images/ebd950a8-a66b-4bf9-b975-b6013232bc08.png" /></div>
<p class="mce-root">If we go and reload, you still don't see them because we don't have anything in them.</p>
<p class="mce-root">Now just to make sure that the categories will show up, we'll add this <kbd>Hello world</kbd> to all of the categories and reload them:</p>
<p class="mce-root CDPAlignCenter CDPAlign CDPAlignLeft"><img height="640" width="970" class="aligncenter size-full wp-image-1528 image-border" src="images/18807129-9a8d-4bf7-87e3-78b0c45c1375.png" /></p>
<p class="mce-root CDPAlignCenter CDPAlign CDPAlignLeft">So now you can see they're showing up. That doesn't look great, so we want it to use some custom classes, Foundation classes. We'll create a <kbd>widgets</kbd> folder in the <kbd>themes</kbd> folder, and let's grab the <kbd>widgets</kbd> folder. We'll go to <kbd>wp-includes</kbd> | <kbd>widgets</kbd>, and grab the <kbd>class-wp-widget-categories.php</kbd> file, so we'll copy that and then bring it to the <kbd>widgets</kbd> in the <kbd>themes</kbd> folder.</p>
<p class="mce-root CDPAlignCenter CDPAlign CDPAlignLeft">Then we can open that from within Sublime Text. We'll add <kbd>Custom</kbd> to the end of the class name and search for the <kbd>ul</kbd> tag. We will add some classes. OK, so <kbd>class="menu vertical"</kbd> and save it. Then we have to include that file in our <kbd>functions.php</kbd> file. We'll go to the top and let's type in <kbd>require_once</kbd> and then we'll pass in <kbd>widgets/class-wp-widget-categories.php</kbd>.</p>
<pre>require_once('widgets/class-wp-widget-categories.php');</pre>
<p class="mce-root CDPAlignCenter CDPAlign CDPAlignLeft">We'll include that file now. Now we'll have to register it. So, let's go down to the bottom and create a function called <kbd>ms_register_widgets</kbd>. We will pass in the class name, <kbd>WP_Widget_Categories_Custom</kbd>. We'll then add an action:</p>
<pre>//Register Widgets<br/>function ms_register_widgets(){<br/>    register_widget('WP_Widget_Categories_Custom');<br/>}<br/><br/>add_action('widgets_init', 'ms_register_widgets');</pre>
<p class="mce-root CDPAlignLeft CDPAlign">Save it, and let's just go and look at the frontend now. You can see that <span class="packt_screen">Categories</span> has changed and looks a little better:</p>
<p class="mce-root CDPAlignLeft CDPAlign CDPAlignCenter"><img height="169" width="250" class="aligncenter size-full wp-image-1530 image-border" src="images/3114e8ed-6079-474e-b3b0-de8b4d235132.png" /></p>
<p class="mce-root CDPAlignLeft CDPAlign">Now the next big thing we have to do is the main content area. We'll do that in the next section, but before we go there, we just want to split up the <kbd>index.php</kbd> file into our header and footer files. So we'll go from the very top of the file to the end of the <kbd>header</kbd> tag. We'll cut the code and in its place, we'll say <kbd>&lt;?php get_header(); ?&gt;</kbd>. We'll then create a file called <kbd>header.php</kbd> and paste that in there. We should see no change.</p>
<p>So we'll do the same thing with the footer. So in <kbd>index.php</kbd> we'll go from the bottom up to, let's see, till the <kbd>footer</kbd> tag, cut that out, and then we'll put in <kbd>get_footer</kbd>. We'll then create a file called <kbd>footer</kbd>, and paste that in, go back to the frontend, reload and everything's fine.</p>


            </article>

            
        </section>
    </div>
</body>
</html>